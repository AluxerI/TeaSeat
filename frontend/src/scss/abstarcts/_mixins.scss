// abstracts/_mixins.scss

/// Миксин для генерации @font-face с учётом списка форматов
/// @param {String}        $font-name   — имя шрифта (будет прописано в font-family)
/// @param {String}        $font-path   — путь до файла без расширения (например "/fonts/Roboto-Regular")
/// @param {Number|String} $weight      — вес шрифта (например 400, 700 и т. д.)
/// @param {String}        $font-style  — стиль шрифта: normal | italic | oblique (по умолчанию normal)
/// @param {String}        $display     — значение font-display (по умолчанию swap)
/// @param {List<String>}  $formats     — список расширений, которые нужно подключить (по умолчанию ("woff2", "woff"))
///
/// Пример использования:
///   @include font-face-mix('Roboto', '/fonts/Roboto-Regular', 400);
///   @include font-face-mix('Roboto', '/fonts/Roboto-Bold', 700, normal, swap, ("woff2", "woff", "ttf"));
///   @include font-face-mix('Open Sans', '/fonts/OpenSans-SemiBoldItalic', 600, italic, swap, ("woff2", "woff"));
///
/// В результате скомпилируется нечто вроде:
/// @font-face {
///   font-family: 'Roboto';
///   font-weight: 400;
///   font-style: normal;
///   src: local("Roboto"),
///        url("/fonts/Roboto-Regular.woff2") format("woff2"),
///        url("/fonts/Roboto-Regular.woff") format("woff");
///   font-display: swap;
/// }
///
@mixin font-face-mix(
  $font-name,
  $font-path,
  $weight,
  $font-style: normal,
  $display: swap,
  $formats: ("woff2", "woff")
) {
  @font-face {
    font-family: unquote("#{$font-name}");
    font-style: $font-style;
    font-weight: $weight;

    // Соберём список src-источников: сначала локальная проверка
    $src-list: local(unquote($font-name));

    // Пробегаемся по всем указанным форматам и добавляем url(... format(...))
    @each $fmt in $formats {
      @if $fmt == "woff2" {
        $fmt-type: "woff2";
      } @else if $fmt == "woff" {
        $fmt-type: "woff";
      } @else if $fmt == "ttf" {
        $fmt-type: "truetype";
      } @else if $fmt == "otf" {
        $fmt-type: "opentype";
      } @else if $fmt == "eot" {
        $fmt-type: "embedded-opentype";
      } @else {
        // Если какой‐то нестандартный формат передали, просто используем его как есть
        $fmt-type: #{$fmt};
      }

      // Добавляем запись в список src‐источников через запятую
      $src-list: append(
        $src-list,
        url("#{$font-path}.#{$fmt}") format("#{$fmt-type}"),
        comma
      );
    }

    // Прописываем итоговое src
    src: $src-list;
    font-display: $display;
  }
}


@mixin flexible () {
  display: flex;
  justify-content: center;
  align-items: center;
}

@mixin border-radius($radius) {        // Префиксы для:
  -webkit-border-radius: $radius;    // Chrome и Safari
     -moz-border-radius: $radius;    // Firefox
      -ms-border-radius: $radius;    // Internet Explorer
       -o-border-radius: $radius;    // Opera
          border-radius: $radius;    // Стандартный CSS
}